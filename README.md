#TITLE:AWS面试
#AUTHOR: SHEN DEZHOU
#ORG: Tsinghua University
#DATE: 2018-9-11

#0.前言
1.单例模式（Singleton Pattern）确保某一个类只有一个实例，而且自行实例化并向整个系统提供这个实例。  
2.工厂模式 定义一个用于创建对象的接口，让子类决定实例化哪一个类。工厂方法使一个类的实例化延迟到其子类。工厂方法则重点是创建，创建零件是它的主要职责，组装顺序则不是它关心的。   
3.抽象工厂模式  创建一组相关或相互依赖的对象提供一个接口，而且无须指定它们的具体类。  
4.模板方法模式  定义一个操作中的算法的框架，而将一些步骤延迟到子类中。使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤。
5.建造者模式  将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。 建造者模式最主要的功能是基本方法的调用顺序安排，这些基本方法已经实现了，顺序不同产生的对象也不同；  
6.代理模式  为其他对象提供一种代理以控制对这个对象的访问。  


普通代理：在该模式下，调用者只知代理而不用知道真实的角色是谁，屏蔽了真实角色的变更对高层模块的影响，真实的主题角色想怎么修改就怎么修改，对高层次的模块没有任何的影响，只要你实现了接口所对应的方法，该模式非常适合对扩展性要求较高的场合。


强制代理：强制代理的概念就是要从真实角色查找到代理角色，不允许直接访问真实角色。高层模块只要调用getProxy就可以访问真实角色的所有方法，它根本就不需要产生一个代理出来，代理的管理已经由真实角色自己完成。


7.原型模式  用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象。  
8.中介者模式  用一个中介对象封装一系列的对象交互，中介者使各对象不需要显示地相互作用，从而使其耦合松散，而且可以独立地改变它们之间的交互。
9.命令模式  将一个请求封装成一个对象，从而让你使用不同的请求把客户端参数化，对请求排队或者记录请求日志，可以提供命令的撤销和恢复功能。
10.责任链模式  使多个对象都有机会处理请求，从而避免了请求的发送者和接受者之间的耦合关系。将这些对象连成一条链，并沿着这条链传递该请求，直到有对象处理它为止。


#1.Question
输入有很多文件，都是这种格式：
产品ID, 属性。
属性可能是：价格，体积，类别等等，有很多
然后这批输入会有错误，要做的是检测出这些错误：
    比如价格<0的， 如果错误条数占总量的1/3以上，整个文件都不采纳
    体积长*宽*高大于一定值的，也是错误量占到文件的某个阈值就拒掉整个文件
    这些条件可以随意组合，比如找出某个类别的价格<0的条数占比。
然后这些错误有不同的级别，严重的要打电话，或者发邮件，后者短信等等
#1.Answer
看了一下午设计模式，可以考虑使用责任链模式来解。

一是定义一个请求的处理方法handleMessage，唯一对外开放的方法；

二是定义一个链的编排方法setNext，设置下一个处理者；

三是定义了具体的请求者必须实现的两个方法：定义自己能够处理的级别getHandlerLevel和具体的处理任务echo。

链中节点数量需要控制，避免出现超长链的情况，一般的做法是在Handler中设置一个最大节点数量，在setNext方法中判断是否已经是超过其阈值，超过则不允许该链建立，避免无意识地破坏系统性能。
